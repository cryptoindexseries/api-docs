# Authentication

In order use the APIs documented here you need to generate a **API Key ID** and **API Key Secret**. There are two 
types of requests this documentation explains; public data APIs and private user data APIs. For accessing public data APIs
only **API Key ID** is required. For private user data APIs a signature should be generated using **API Key Secret**. 

For all requests **API Key ID** should be included in Authorization header in Bearer format. E.g.

```
GET /ExamplePublicRequest
Headers:
  - Authorization: Bearer my-api-key-id
```

In addition to that for private user data APIs a **signature** from **current timestamp (in seconds precision)** should be generated and both 
signature and timestamp should be put as a query parameter to every request. E.g.

``` 
GET /ExamplePrivateRequest?timestamp=1625609684&sign=my-signature
Headers:
   - Authorization: Bearer my-api-key-id
```

Signature should be generated by using HMAC SHA256. The HMAC SHA256 signature is a keyed HMAC SHA256 operation.
Use your **API Key Secret** as the key and **timestamp** query parameter as the value for the HMAC operation.

An example in NodeJS using [CryptoJS](https://www.npmjs.com/package/crypto-js) library for generating signatures

```
const apiSecret = "2028c72a-2bd3-4b0d-9e0e-1c9b5d4274df";
const timestamp = 1625609684
let query = 'timestamp=' + timestamp
cosnt sign = CryptoJS.HmacSHA256(query, apiSecret).toString(CryptoJS.enc.Hex);
console.log(sign)
>> bccfa3ff9fbdfaf48426d689dcaa23b5874ffbbf17acfa887036ff5d26461831
```

Some additional warnings and constraints;
* Timestamp should be in seconds precision
* If signature is generated from a timestamp that is older than 1 minute, the request is rejected
* Authentication information is cached for 1 minute
* Please do not share your API Secret Key and If you think your key is exposed somehow please recreate it.
